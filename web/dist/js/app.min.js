!function(e){window.MiitComponents={};e.createClass({displayName:"HelloWorld",render:function(){return e.createElement("div",null,"Hello ",this.props.name)}});window.MiitTeamHomePage=e.createClass({displayName:"MiitTeamHomePage",render:function(){return e.createElement("div",null,"Hello from Team")}}),MiitComponents.CreateTeam=e.createClass({displayName:"CreateTeam",getInitialState:function(){return{placeholder:{email:MiitTranslator.get("placeholder.your.email","inputs"),team:MiitTranslator.get("placeholder.team.name","inputs")},submit:MiitTranslator.get("submit.create.team","inputs"),errors:this.getDefaultErrors()}},getDefaultErrors:function(){return{missing_email:!1,missing_team:!1,missing_terms:!1,invalid_email:!1,invalid_team:!1}},handleSubmit:function(i){i.preventDefault();var r=e.findDOMNode(this.refs.email).value.trim(),a=e.findDOMNode(this.refs.team).value.trim(),n=e.findDOMNode(this.refs.terms).checked;return r&&a&&n?t.validator.email(r)?t.validator.team(a)?(this.setState({errors:this.getDefaultErrors()}),void t.ajax.crsf("registration",function(e){t.ajax.send("/register",{"registration_type[user][email]":r,"registration_type[team][name]":a,"registration_type[terms]":n,"registration_type[_token]":e},function(e){console.log(e)})})):void this.setState({errors:{invalid_team:!0}}):void this.setState({errors:{invalid_email:!0}}):void this.setState({errors:{missing_email:!r,missing_team:!a,missing_terms:!n}})},render:function(){var t=e.addons.classSet,i=t({invalid:this.state.errors.missing_email||this.state.errors.invalid_email}),r=t({invalid:this.state.errors.missing_team||this.state.errors.invalid_team}),a=t({invalid:this.state.errors.missing_terms});return e.createElement("form",{"class":"miit-component create-team",onSubmit:this.handleSubmit},e.createElement("div",null,e.createElement("input",{type:"text",className:i,placeholder:this.state.placeholder.email,ref:"email"}),e.createElement("input",{type:"text",className:r,placeholder:this.state.placeholder.team,ref:"team"}),e.createElement("input",{type:"checkbox",className:a,ref:"terms"}),e.createElement("input",{type:"submit",value:this.state.submit})))}});var t=function(){"use strict";function e(){for(var e=!1,t=0;t<n.length;t++){try{e=n[t]()}catch(i){continue}break}return e}var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,i=/^[a-z0-9]{4,}$/i,r=function(e){return function(t){return e.test(t)}},a=function(e){var t=[];for(var i in e){var r=e[i],a=encodeURIComponent(i)+"="+encodeURIComponent(r);t.push(a)}return t.join("&")},n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],s=function(t,i,r){var n=e();if(n){"function"==typeof i&&(r=i,i=null);var s=i?"POST":"GET";n.open(s,t,!0),i&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4==n.readyState&&(200==n.status||304==n.status)){var e;try{e=JSON.parse(n.responseText)}catch(t){}"function"==typeof r&&r(e)}},4!=n.readyState&&n.send(a(i))}},o=function(e,t){"function"==typeof e&&(t=e,e=null);var i="/_crsftoken/"+(e||"");s(i,function(e){e&&e.token&&"function"==typeof t&&t(e.token)})};return{ajax:{send:s,crsf:o},validator:{email:r(t),team:r(i)}}}()}(React);
//# sourceMappingURL=app.min.js.map